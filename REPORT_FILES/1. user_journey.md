# User Journey Diagram - Bank Saving System

## üéØ User Persona

**Bank Staff / Teller**
- Role: Manage customer data and process banking transactions
- Goal: Efficiently handle customer deposits and withdrawals
- Need: Simple, fast mobile app for on-the-go banking operations

---

## üó∫Ô∏è Main User Journey Flow

```mermaid
flowchart TD
    Start([Launch App]) --> Dashboard[Dashboard Screen]
    Dashboard --> Choice{What to do?}
    
    Choice -->|Manage Customers| CustomerJourney[Customer Management]
    Choice -->|Manage Deposito Types| DepositoJourney[Deposito Type Management]
    Choice -->|Manage Accounts| AccountJourney[Account Management]
    Choice -->|Process Transactions| TransactionJourney[Transaction Processing]
    
    CustomerJourney --> Dashboard
    DepositoJourney --> Dashboard
    AccountJourney --> Dashboard
    TransactionJourney --> Dashboard
    
    style Start fill:#e1f5ff
    style Dashboard fill:#fff4e1
    style Choice fill:#f0f0f0
```

---

## üë§ Journey 1: Customer Management

### Flow Diagram
```mermaid
flowchart TD
    Start([Customer List Screen]) --> Action{User Action}
    
    Action -->|View List| ViewList[Display All Customers]
    Action -->|Search| Search[Enter Name]
    Action -->|Create New| CreateForm[Customer Form Screen]
    Action -->|Edit| EditForm[Customer Form Screen - Edit Mode]
    
    ViewList --> Action
    Search --> FilterList[Show Filtered Results]
    FilterList --> Action
    
    CreateForm --> EnterName[Enter Customer Name]
    EnterName --> ValidateCreate{Valid?}
    ValidateCreate -->|No| ShowError1[Show Error: Name too short]
    ShowError1 --> EnterName
    ValidateCreate -->|Yes| SaveNew[POST /api/customers]
    SaveNew --> SuccessCreate[Success Toast]
    SuccessCreate --> BackToList1[Back to Customer List]
    
    EditForm --> LoadData[GET /api/customers/:id]
    LoadData --> UpdateName[Update Customer Name]
    UpdateName --> ValidateEdit{Valid?}
    ValidateEdit -->|No| ShowError2[Show Error]
    ShowError2 --> UpdateName
    ValidateEdit -->|Yes| SaveUpdate[PUT /api/customers/:id]
    SaveUpdate --> SuccessUpdate[Success Toast]
    SuccessUpdate --> BackToList2[Back to Customer List]
    
    style Start fill:#e1f5ff
    style SuccessCreate fill:#c8e6c9
    style SuccessUpdate fill:#c8e6c9
    style ShowError1 fill:#ffcdd2
    style ShowError2 fill:#ffcdd2
```

### Steps Description
1. **View Customers** - User sees list of all customers
2. **Search** - User can search by name
3. **Create** - User enters name (min 3 characters) ‚Üí Save ‚Üí Success toast
4. **Edit** - User selects customer ‚Üí Update name ‚Üí Save ‚Üí Success toast
5. **Delete** - User long-press ‚Üí Confirm ‚Üí Delete

---

## üí∞ Journey 2: Deposito Type Management

### Flow Diagram
```mermaid
flowchart TD
    Start([Deposito Type List]) --> Action{User Action}
    
    Action -->|View List| ViewList[Display Types]
    Action -->|Create New| CreateForm[Deposito Type Form]
    Action -->|Edit| EditForm[Edit Deposito Type]
    
    CreateForm --> EnterDetails[Enter Name & Yearly Return]
    EnterDetails --> Validate{Valid?}
    Validate -->|No - Empty Name| Error1[Show Error: Name required]
    Validate -->|No - Invalid Rate| Error2[Show Error: Rate 0-1]
    Validate -->|Yes| Save[POST /api/deposito-types]
    Error1 --> EnterDetails
    Error2 --> EnterDetails
    Save --> Success[Success Toast]
    Success --> BackToList[Back to List]
    
    EditForm --> LoadData[GET /api/deposito-types/:id]
    LoadData --> UpdateDetails[Update Details]
    UpdateDetails --> ValidateEdit{Valid?}
    ValidateEdit -->|No| ErrorEdit[Show Error]
    ValidateEdit -->|Yes| SaveUpdate[PUT /api/deposito-types/:id]
    ErrorEdit --> UpdateDetails
    SaveUpdate --> SuccessEdit[Success Toast]
    SuccessEdit --> BackToList
    
    style Start fill:#e1f5ff
    style Success fill:#c8e6c9
    style SuccessEdit fill:#c8e6c9
    style Error1 fill:#ffcdd2
    style Error2 fill:#ffcdd2
```

### Steps Description
1. **View Types** - See all deposito types with yearly return rates
2. **Create** - Enter name + yearly return (0-1, e.g., 0.05 for 5%)
3. **Edit** - Update existing type
4. **Delete** - Remove unused types

---

## üè¶ Journey 3: Account Creation & Management

### Flow Diagram
```mermaid
flowchart TD
    Start([Account List]) --> Action{User Action}
    
    Action -->|View List| ViewList[Display All Accounts]
    Action -->|Create New| CreateForm[Account Form]
    Action -->|View Details| DetailScreen[Account Detail Screen]
    
    CreateForm --> LoadOptions[Load Customers & Deposito Types]
    LoadOptions --> SelectCustomer[Select Customer]
    SelectCustomer --> SelectType[Select Deposito Type]
    SelectType --> EnterBalance[Enter Initial Balance]
    EnterBalance --> Validate{Valid?}
    
    Validate -->|No - No Customer| Error1[Error: Select customer]
    Validate -->|No - No Type| Error2[Error: Select type]
    Validate -->|No - Invalid Balance| Error3[Error: Balance >= 0]
    Validate -->|Yes| Create[POST /api/accounts]
    
    Error1 --> SelectCustomer
    Error2 --> SelectType
    Error3 --> EnterBalance
    
    Create --> CheckExisting{Account exists?}
    CheckExisting -->|Yes| ErrorExist[Error: Customer already has account]
    CheckExisting -->|No| Success[Account Created]
    ErrorExist --> SelectCustomer
    Success --> BackToList[Back to Account List]
    
    DetailScreen --> ShowDetails[Show Account Info]
    ShowDetails --> ShowTransactions[Show Transaction History]
    ShowTransactions --> CanDeposit[Can Deposit]
    ShowTransactions --> CanWithdraw[Can Withdraw]
    
    style Start fill:#e1f5ff
    style Success fill:#c8e6c9
    style Error1 fill:#ffcdd2
    style Error2 fill:#ffcdd2
    style Error3 fill:#ffcdd2
```

### Steps Description
1. **View Accounts** - See all accounts with balance
2. **Create Account**:
   - Select customer
   - Select deposito type
   - Enter initial balance (optional)
   - Submit ‚Üí Account created
3. **View Detail** - See account info + transaction history
4. **Quick Actions** - Deposit or Withdraw from detail screen

---

## üí∏ Journey 4: Transaction Processing

### Deposit Flow
```mermaid
flowchart TD
    Start([Transaction Form - Deposit]) --> SelectAccount[Select Account]
    SelectAccount --> EnterAmount[Enter Amount]
    EnterAmount --> EnterDate[Select Transaction Date]
    EnterDate --> Validate{Valid?}
    
    Validate -->|No - No Account| Error1[Error: Select account]
    Validate -->|No - Zero Amount| Error2[Error: Amount > 0]
    Validate -->|No - Invalid Date| Error3[Error: Valid date only]
    Validate -->|Yes| Process[POST /api/transactions/deposit]
    
    Error1 --> SelectAccount
    Error2 --> EnterAmount
    Error3 --> EnterDate
    
    Process --> UpdateBalance[Update Account Balance]
    UpdateBalance --> RecordTx[Record Transaction]
    RecordTx --> Success[Success Toast]
    Success --> ShowResult[Show New Balance]
    ShowResult --> BackToDashboard[Back to Dashboard]
    
    style Start fill:#e1f5ff
    style Success fill:#c8e6c9
    style Error1 fill:#ffcdd2
    style Error2 fill:#ffcdd2
    style Error3 fill:#ffcdd2
```

### Withdrawal Flow
```mermaid
flowchart TD
    Start([Transaction Form - Withdrawal]) --> SelectAccount[Select Account]
    SelectAccount --> EnterAmount[Enter Amount]
    EnterAmount --> EnterDate[Select Transaction Date]
    EnterDate --> Validate{Valid Input?}
    
    Validate -->|No| ShowInputError[Show Input Error]
    ShowInputError --> EnterAmount
    Validate -->|Yes| GetAccount[GET Account Details]
    
    GetAccount --> CalcInterest[Calculate Interest]
    CalcInterest --> CalcMonths[Calculate Months Held]
    CalcMonths --> ApplyRate[Apply Yearly Return Rate]
    ApplyRate --> ShowPreview[Show Preview:<br/>Amount + Interest]
    
    ShowPreview --> CheckBalance{Sufficient Balance?}
    CheckBalance -->|No| ErrorBalance[Error: Insufficient funds]
    CheckBalance -->|Yes| Confirm{Confirm?}
    
    ErrorBalance --> EnterAmount
    Confirm -->|No| EnterAmount
    Confirm -->|Yes| Process[POST /api/transactions/withdrawal]
    
    Process --> DeductAmount[Deduct Amount from Balance]
    DeductAmount --> AddInterest[Add Interest to Balance]
    AddInterest --> RecordTx[Record Transaction with Interest]
    RecordTx --> Success[Success! Show:<br/>- Amount withdrawn<br/>- Interest earned<br/>- New balance]
    Success --> BackToDashboard[Back to Dashboard]
    
    style Start fill:#e1f5ff
    style CalcInterest fill:#fff9c4
    style ShowPreview fill:#fff9c4
    style Success fill:#c8e6c9
    style ErrorBalance fill:#ffcdd2
```

### Steps Description

#### Deposit Journey
1. Select account
2. Enter deposit amount
3. Select transaction date
4. Submit ‚Üí Balance updated ‚Üí Success message

#### Withdrawal Journey
1. Select account
2. Enter withdrawal amount
3. Select transaction date
4. **System calculates interest**:
   - Get account creation date
   - Calculate months held
   - Apply yearly return: `interest = balance √ó yearly_return √ó (months / 12)`
5. Show preview (amount + interest)
6. Confirm withdrawal
7. Submit ‚Üí Balance updated (deducted + interest) ‚Üí Success message

---

## üìä Journey 5: View Transaction History

### Flow Diagram
```mermaid
flowchart TD
    Start([Transaction History Screen]) --> LoadAll[Load All Transactions]
    LoadAll --> Display[Display Transaction List]
    Display --> Filter{Filter by Account?}
    
    Filter -->|Yes| SelectAccount[Select Account]
    SelectAccount --> LoadFiltered[Load Filtered Transactions]
    LoadFiltered --> DisplayFiltered[Show Account Transactions]
    DisplayFiltered --> ViewDetail
    
    Filter -->|No| ViewDetail[View Transaction Detail]
    
    ViewDetail --> ShowInfo[Show:<br/>- Type Deposit/Withdrawal<br/>- Amount<br/>- Date<br/>- Balance before/after]
    ShowInfo --> IsWithdrawal{Withdrawal?}
    IsWithdrawal -->|Yes| ShowInterest[Show Interest Earned<br/>Show Months Held]
    IsWithdrawal -->|No| End([Back to List])
    ShowInterest --> End
    
    style Start fill:#e1f5ff
    style ShowInterest fill:#fff9c4
```

### Steps Description
1. View all transactions (all accounts)
2. Filter by specific account (optional)
3. See transaction details:
   - Type (deposit/withdrawal)
   - Amount
   - Date
   - Balance before/after
   - **For withdrawals:** Interest earned + months held

---

## üîÑ Complete User Journey Example

### Scenario: New Customer Opening Account & Depositing Funds

```mermaid
flowchart LR
    A([Start]) --> B[Create Customer<br/>John Doe]
    B --> C[Create Deposito Type<br/>Gold 5%]
    C --> D[Create Account<br/>for John Doe<br/>Initial: Rp 1M]
    D --> E[Process Deposit<br/>Rp 500K]
    E --> F[View Transaction<br/>History]
    F --> G[Final Balance:<br/>Rp 1.5M]
    G --> H([End])
    
    style A fill:#e1f5ff
    style H fill:#c8e6c9
```

**Steps:**
1. **Create Customer** ‚Üí "John Doe" created
2. **Create Deposito Type** ‚Üí "Gold Deposito" with 5% yearly return
3. **Create Account** ‚Üí Link John + Gold type, Rp 1,000,000 initial
4. **Deposit** ‚Üí Add Rp 500,000
5. **View History** ‚Üí See deposit transaction
6. **Result** ‚Üí Account balance: Rp 1,500,000

---

## ‚è±Ô∏è Journey Metrics

| Journey | Average Steps | Time Estimate |
|---------|--------------|---------------|
| Create Customer | 3 steps | 30 seconds |
| Create Deposito Type | 3 steps | 45 seconds |
| Create Account | 4 steps | 60 seconds |
| Process Deposit | 4 steps | 45 seconds |
| Process Withdrawal | 5 steps | 60 seconds |
| View Transaction | 2 steps | 15 seconds |

---

## üéØ Key User Goals

1. ‚úÖ **Quick Customer Onboarding** - Minimal steps to create customer
2. ‚úÖ **Flexible Deposito Types** - Easy to configure interest rates
3. ‚úÖ **Simple Account Creation** - Clear dropdown selections
4. ‚úÖ **Fast Transactions** - Streamlined deposit/withdrawal
5. ‚úÖ **Automatic Interest** - System calculates interest on withdrawal
6. ‚úÖ **Transaction Visibility** - Easy to view history

---

## üì± UX Highlights

- **Pull-to-Refresh** - On all list screens
- **Search** - Quick customer lookup
- **Validation** - Real-time input validation
- **Toast Messages** - Success/error feedback
- **Loading States** - Clear loading indicators
- **Error Messages** - User-friendly error descriptions
- **Interest Preview** - Show interest before withdrawal
